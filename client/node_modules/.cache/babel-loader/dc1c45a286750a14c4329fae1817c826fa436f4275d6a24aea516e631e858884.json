{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\melkote\\\\Downloads\\\\NearFinalProjectBACSHOTSONME123-main\\\\NearFinalProjectBACSHOTSONME123-main\\\\client\\\\src\\\\pages\\\\Leaderboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// client/src/pages/Leaderboard.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Leaderboard.css';\nimport Navbar from '../components/Navbar';\nimport { createLeaderboard, joinLeaderboard, getUserLeaderboards, deleteLeaderboard } from '../api';\nimport AchievementRing from '../components/AchievementRing';\n\n// Bubble-style code input component.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CodeInput({\n  value,\n  onChange\n}) {\n  _s();\n  const inputsRef = useRef([]);\n  const length = 5;\n  const handleChange = (e, index) => {\n    const char = e.target.value.toUpperCase();\n    let newVal = value.split('');\n    newVal[index] = char;\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.slice(0, length).join('');\n    onChange(newCode);\n    if (char && index < length - 1) {\n      inputsRef.current[index + 1].focus();\n    }\n  };\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' && !value[index] && index > 0) {\n      inputsRef.current[index - 1].focus();\n    }\n  };\n  const codeArray = [];\n  for (let i = 0; i < length; i++) {\n    codeArray.push(value[i] || '');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"code-input-container\",\n    children: codeArray.map((char, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      maxLength: \"1\",\n      value: char,\n      onChange: e => handleChange(e, index),\n      onKeyDown: e => handleKeyDown(e, index),\n      ref: el => inputsRef.current[index] = el,\n      className: \"code-input-bubble\"\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper to get rank color.\n_s(CodeInput, \"eRUM/Nina6q01Ggvsw3e8PaEedE=\");\n_c = CodeInput;\nfunction getRankColor(rank) {\n  if (rank === 1) return '#FFD700'; // Gold\n  if (rank === 2) return '#C0C0C0'; // Silver\n  if (rank === 3) return '#CD7F32'; // Bronze\n  return '#000'; // Black\n}\n\n// Modal component for detailed leaderboard rankings.\nfunction LeaderboardDetailModal({\n  leaderboard,\n  onClose,\n  currentUser\n}) {\n  _s2();\n  const [closing, setClosing] = useState(false);\n  const [rankingCriterion, setRankingCriterion] = useState('achievements'); // 'achievements' or 'daysSober'\n  const [showDeleteInput, setShowDeleteInput] = useState(false);\n  const [password, setPassword] = useState('');\n  const [deleteMessage, setDeleteMessage] = useState('');\n  const sortedScores = () => {\n    if (!leaderboard || !leaderboard.scores) return [];\n    const scores = [...leaderboard.scores];\n    if (rankingCriterion === 'achievements') {\n      scores.sort((a, b) => b.achievements - a.achievements);\n    } else if (rankingCriterion === 'daysSober') {\n      scores.sort((a, b) => b.daysSober - a.daysSober);\n    }\n    return scores;\n  };\n  const handleClose = () => {\n    setClosing(true);\n    setTimeout(() => onClose(), 300);\n  };\n  const handleDelete = async () => {\n    const result = await deleteLeaderboard({\n      leaderboardId: leaderboard._id,\n      userId: currentUser._id,\n      password\n    });\n    if (result.success) {\n      setDeleteMessage('Leaderboard deleted successfully.');\n      setTimeout(() => onClose(), 300);\n    } else {\n      setDeleteMessage(result.error || 'Error deleting leaderboard.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `modal-overlay ${closing ? 'fade-out' : 'fade-in'}`,\n    onClick: handleClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `modal-content large-modal ${closing ? 'scale-out' : 'scale-in'}`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: leaderboard.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"leaderboard-code\",\n        children: [\"Code: \", leaderboard.code]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ranking-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rank by:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: rankingCriterion,\n          onChange: e => setRankingCriterion(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"achievements\",\n            children: \"Achievements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"daysSober\",\n            children: \"Days Sober\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-list\",\n        children: sortedScores().map((score, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-rank\",\n            style: {\n              color: getRankColor(index + 1)\n            },\n            children: [index + 1, \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-name\",\n            children: score.user && score.user.name ? score.user.name : 'User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-value\",\n            children: rankingCriterion === 'achievements' ? /*#__PURE__*/_jsxDEV(AchievementRing, {\n              unlockedCount: score.achievements,\n              size: 40,\n              strokeWidth: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [score.daysSober, \" days sober\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), currentUser && leaderboard.createdBy && currentUser._id === leaderboard.createdBy._id && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-section\",\n        children: showDeleteInput ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delete-popout\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Enter password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"delete-password-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: handleDelete,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), deleteMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"delete-message\",\n            children: deleteMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-button\",\n          onClick: () => setShowDeleteInput(true),\n          children: \"Delete Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s2(LeaderboardDetailModal, \"BasSYSNfla629U1sF6PL+3JOHdw=\");\n_c2 = LeaderboardDetailModal;\nexport default function Leaderboard() {\n  _s3();\n  const navigate = useNavigate();\n  const storedUserStr = localStorage.getItem('bacshotsUser');\n  const user = storedUserStr ? JSON.parse(storedUserStr) : null;\n  const [activeTab, setActiveTab] = useState('view'); // 'view', 'join', 'create'\n  const [leaderboards, setLeaderboards] = useState([]);\n  const [joinCode, setJoinCode] = useState('');\n  const [createName, setCreateName] = useState('');\n  const [message, setMessage] = useState('');\n  const [modalLeaderboard, setModalLeaderboard] = useState(null);\n  const fetchLeaderboards = async () => {\n    if (!user) return;\n    try {\n      const res = await getUserLeaderboards(user._id);\n      if (res.success) {\n        setLeaderboards(res.leaderboards);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    if (activeTab === 'view') {\n      fetchLeaderboards();\n    }\n  }, [activeTab, user]);\n  const handleCreate = async e => {\n    e.preventDefault();\n    if (!createName || !user) return;\n    const alreadyCreated = leaderboards.some(lb => lb.createdBy && lb.createdBy._id === user._id);\n    if (alreadyCreated) {\n      setMessage(\"You have already created a leaderboard.\");\n      return;\n    }\n    try {\n      const res = await createLeaderboard({\n        name: createName,\n        userId: user._id\n      });\n      if (res.success) {\n        setMessage(`Leaderboard created! Code: ${res.leaderboard.code}`);\n        fetchLeaderboards();\n      } else {\n        setMessage('Error creating leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error creating leaderboard.');\n    }\n  };\n  const handleJoin = async e => {\n    e.preventDefault();\n    if (joinCode.length !== 5 || !user) return;\n    try {\n      const res = await joinLeaderboard({\n        code: joinCode,\n        userId: user._id\n      });\n      if (res.success) {\n        setMessage(`Joined leaderboard: ${res.leaderboard.name}`);\n        fetchLeaderboards();\n      } else {\n        setMessage(res.error || 'Error joining leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error joining leaderboard.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"leaderboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      onSignOut: () => {\n        localStorage.removeItem('bacshotsUser');\n        navigate('/signin');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leaderboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Leaderboards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeTab === 'view' ? 'active' : '',\n          onClick: () => {\n            setActiveTab('view');\n            setMessage('');\n          },\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeTab === 'join' ? 'active' : '',\n          onClick: () => {\n            setActiveTab('join');\n            setMessage('');\n          },\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeTab === 'create' ? 'active' : '',\n          onClick: () => {\n            setActiveTab('create');\n            setMessage('');\n          },\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }, this), activeTab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-section\",\n        children: leaderboards.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No leaderboards found. Create or join one!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }, this) : leaderboards.map(lb => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leaderboard-item\",\n          onClick: () => setModalLeaderboard(lb),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: lb.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Code: \", lb.code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Participants: \", lb.participants.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 19\n          }, this)]\n        }, lb._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), activeTab === 'join' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"join-section\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleJoin,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Code:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CodeInput, {\n            value: joinCode,\n            onChange: setJoinCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Join Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), activeTab === 'create' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-section\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreate,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Leaderboard Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: createName,\n            onChange: e => setCreateName(e.target.value),\n            placeholder: \"My Leaderboard\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Create Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), modalLeaderboard && /*#__PURE__*/_jsxDEV(LeaderboardDetailModal, {\n      leaderboard: modalLeaderboard,\n      onClose: () => setModalLeaderboard(null),\n      currentUser: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n}\n_s3(Leaderboard, \"DQyl28V7K/+uRd47gzUFc3HVz0k=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Leaderboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CodeInput\");\n$RefreshReg$(_c2, \"LeaderboardDetailModal\");\n$RefreshReg$(_c3, \"Leaderboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","Navbar","createLeaderboard","joinLeaderboard","getUserLeaderboards","deleteLeaderboard","AchievementRing","jsxDEV","_jsxDEV","CodeInput","value","onChange","_s","inputsRef","length","handleChange","e","index","char","target","toUpperCase","newVal","split","push","newCode","slice","join","current","focus","handleKeyDown","key","codeArray","i","className","children","map","type","maxLength","onKeyDown","ref","el","fileName","_jsxFileName","lineNumber","columnNumber","_c","getRankColor","rank","LeaderboardDetailModal","leaderboard","onClose","currentUser","_s2","closing","setClosing","rankingCriterion","setRankingCriterion","showDeleteInput","setShowDeleteInput","password","setPassword","deleteMessage","setDeleteMessage","sortedScores","scores","sort","a","b","achievements","daysSober","handleClose","setTimeout","handleDelete","result","leaderboardId","_id","userId","success","error","onClick","stopPropagation","name","code","score","style","color","user","unlockedCount","size","strokeWidth","createdBy","placeholder","_c2","Leaderboard","_s3","navigate","storedUserStr","localStorage","getItem","JSON","parse","activeTab","setActiveTab","leaderboards","setLeaderboards","joinCode","setJoinCode","createName","setCreateName","message","setMessage","modalLeaderboard","setModalLeaderboard","fetchLeaderboards","res","err","console","handleCreate","preventDefault","alreadyCreated","some","lb","handleJoin","onSignOut","removeItem","participants","onSubmit","required","_c3","$RefreshReg$"],"sources":["C:/Users/melkote/Downloads/NearFinalProjectBACSHOTSONME123-main/NearFinalProjectBACSHOTSONME123-main/client/src/pages/Leaderboard.js"],"sourcesContent":["// client/src/pages/Leaderboard.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Leaderboard.css';\nimport Navbar from '../components/Navbar';\nimport { createLeaderboard, joinLeaderboard, getUserLeaderboards, deleteLeaderboard } from '../api';\nimport AchievementRing from '../components/AchievementRing';\n\n// Bubble-style code input component.\nfunction CodeInput({ value, onChange }) {\n  const inputsRef = useRef([]);\n  const length = 5;\n  \n  const handleChange = (e, index) => {\n    const char = e.target.value.toUpperCase();\n    let newVal = value.split('');\n    newVal[index] = char;\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.slice(0, length).join('');\n    onChange(newCode);\n    if (char && index < length - 1) {\n      inputsRef.current[index + 1].focus();\n    }\n  };\n\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' && !value[index] && index > 0) {\n      inputsRef.current[index - 1].focus();\n    }\n  };\n\n  const codeArray = [];\n  for (let i = 0; i < length; i++) {\n    codeArray.push(value[i] || '');\n  }\n\n  return (\n    <div className=\"code-input-container\">\n      {codeArray.map((char, index) => (\n        <input\n          key={index}\n          type=\"text\"\n          maxLength=\"1\"\n          value={char}\n          onChange={(e) => handleChange(e, index)}\n          onKeyDown={(e) => handleKeyDown(e, index)}\n          ref={(el) => (inputsRef.current[index] = el)}\n          className=\"code-input-bubble\"\n        />\n      ))}\n    </div>\n  );\n}\n\n// Helper to get rank color.\nfunction getRankColor(rank) {\n  if (rank === 1) return '#FFD700'; // Gold\n  if (rank === 2) return '#C0C0C0'; // Silver\n  if (rank === 3) return '#CD7F32'; // Bronze\n  return '#000'; // Black\n}\n\n// Modal component for detailed leaderboard rankings.\nfunction LeaderboardDetailModal({ leaderboard, onClose, currentUser }) {\n  const [closing, setClosing] = useState(false);\n  const [rankingCriterion, setRankingCriterion] = useState('achievements'); // 'achievements' or 'daysSober'\n  const [showDeleteInput, setShowDeleteInput] = useState(false);\n  const [password, setPassword] = useState('');\n  const [deleteMessage, setDeleteMessage] = useState('');\n\n  const sortedScores = () => {\n    if (!leaderboard || !leaderboard.scores) return [];\n    const scores = [...leaderboard.scores];\n    if (rankingCriterion === 'achievements') {\n      scores.sort((a, b) => b.achievements - a.achievements);\n    } else if (rankingCriterion === 'daysSober') {\n      scores.sort((a, b) => b.daysSober - a.daysSober);\n    }\n    return scores;\n  };\n\n  const handleClose = () => {\n    setClosing(true);\n    setTimeout(() => onClose(), 300);\n  };\n\n  const handleDelete = async () => {\n    const result = await deleteLeaderboard({ leaderboardId: leaderboard._id, userId: currentUser._id, password });\n    if (result.success) {\n      setDeleteMessage('Leaderboard deleted successfully.');\n      setTimeout(() => onClose(), 300);\n    } else {\n      setDeleteMessage(result.error || 'Error deleting leaderboard.');\n    }\n  };\n\n  return (\n    <div className={`modal-overlay ${closing ? 'fade-out' : 'fade-in'}`} onClick={handleClose}>\n      <div className={`modal-content large-modal ${closing ? 'scale-out' : 'scale-in'}`} onClick={(e) => e.stopPropagation()}>\n        <h2>{leaderboard.name}</h2>\n        <p className=\"leaderboard-code\">Code: {leaderboard.code}</p>\n        <div className=\"ranking-selector\">\n          <label>Rank by:</label>\n          <select value={rankingCriterion} onChange={(e) => setRankingCriterion(e.target.value)}>\n            <option value=\"achievements\">Achievements</option>\n            <option value=\"daysSober\">Days Sober</option>\n          </select>\n        </div>\n        <div className=\"score-list\">\n          {sortedScores().map((score, index) => (\n            <div key={index} className=\"score-item\">\n              <span className=\"score-rank\" style={{ color: getRankColor(index + 1) }}>{index + 1}.</span>\n              <span className=\"score-name\">{score.user && score.user.name ? score.user.name : 'User'}</span>\n              <span className=\"score-value\">\n                {rankingCriterion === 'achievements' ? (\n                  <AchievementRing unlockedCount={score.achievements} size={40} strokeWidth={3} />\n                ) : (\n                  <span>{score.daysSober} days sober</span>\n                )}\n              </span>\n            </div>\n          ))}\n        </div>\n        {/* Delete section placed 20px below the score list */}\n        {currentUser && leaderboard.createdBy && (currentUser._id === leaderboard.createdBy._id) && (\n          <div className=\"delete-section\">\n            {showDeleteInput ? (\n              <div className=\"delete-popout\">\n                <input\n                  type=\"password\"\n                  placeholder=\"Enter password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"delete-password-input\"\n                />\n                <button className=\"delete-button\" onClick={handleDelete}>Confirm</button>\n                {deleteMessage && <p className=\"delete-message\">{deleteMessage}</p>}\n              </div>\n            ) : (\n              <button className=\"delete-button\" onClick={() => setShowDeleteInput(true)}>\n                Delete Leaderboard\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function Leaderboard() {\n  const navigate = useNavigate();\n  const storedUserStr = localStorage.getItem('bacshotsUser');\n  const user = storedUserStr ? JSON.parse(storedUserStr) : null;\n  const [activeTab, setActiveTab] = useState('view'); // 'view', 'join', 'create'\n  const [leaderboards, setLeaderboards] = useState([]);\n  const [joinCode, setJoinCode] = useState('');\n  const [createName, setCreateName] = useState('');\n  const [message, setMessage] = useState('');\n  const [modalLeaderboard, setModalLeaderboard] = useState(null);\n\n  const fetchLeaderboards = async () => {\n    if (!user) return;\n    try {\n      const res = await getUserLeaderboards(user._id);\n      if (res.success) {\n        setLeaderboards(res.leaderboards);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    if (activeTab === 'view') {\n      fetchLeaderboards();\n    }\n  }, [activeTab, user]);\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    if (!createName || !user) return;\n    const alreadyCreated = leaderboards.some(lb => lb.createdBy && lb.createdBy._id === user._id);\n    if (alreadyCreated) {\n      setMessage(\"You have already created a leaderboard.\");\n      return;\n    }\n    try {\n      const res = await createLeaderboard({ name: createName, userId: user._id });\n      if (res.success) {\n        setMessage(`Leaderboard created! Code: ${res.leaderboard.code}`);\n        fetchLeaderboards();\n      } else {\n        setMessage('Error creating leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error creating leaderboard.');\n    }\n  };\n\n  const handleJoin = async (e) => {\n    e.preventDefault();\n    if (joinCode.length !== 5 || !user) return;\n    try {\n      const res = await joinLeaderboard({ code: joinCode, userId: user._id });\n      if (res.success) {\n        setMessage(`Joined leaderboard: ${res.leaderboard.name}`);\n        fetchLeaderboards();\n      } else {\n        setMessage(res.error || 'Error joining leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error joining leaderboard.');\n    }\n  };\n\n  return (\n    <div className=\"leaderboard-container\">\n      <Navbar onSignOut={() => {\n        localStorage.removeItem('bacshotsUser');\n        navigate('/signin');\n      }} />\n      <div className=\"leaderboard-content\">\n        <h1>Leaderboards</h1>\n        <div className=\"tab-header\">\n          <button className={activeTab === 'view' ? 'active' : ''} onClick={() => { setActiveTab('view'); setMessage(''); }}>\n            View\n          </button>\n          <button className={activeTab === 'join' ? 'active' : ''} onClick={() => { setActiveTab('join'); setMessage(''); }}>\n            Join\n          </button>\n          <button className={activeTab === 'create' ? 'active' : ''} onClick={() => { setActiveTab('create'); setMessage(''); }}>\n            Create\n          </button>\n        </div>\n        {message && <div className=\"message\">{message}</div>}\n        {activeTab === 'view' && (\n          <div className=\"view-section\">\n            {leaderboards.length === 0 ? (\n              <p>No leaderboards found. Create or join one!</p>\n            ) : (\n              leaderboards.map(lb => (\n                <div key={lb._id} className=\"leaderboard-item\" onClick={() => setModalLeaderboard(lb)}>\n                  <h3>{lb.name}</h3>\n                  <p>Code: {lb.code}</p>\n                  <p>Participants: {lb.participants.length}</p>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n        {activeTab === 'join' && (\n          <div className=\"join-section\">\n            <form onSubmit={handleJoin}>\n              <label>Enter Code:</label>\n              <CodeInput value={joinCode} onChange={setJoinCode} />\n              <button type=\"submit\">Join Leaderboard</button>\n            </form>\n          </div>\n        )}\n        {activeTab === 'create' && (\n          <div className=\"create-section\">\n            <form onSubmit={handleCreate}>\n              <label>Leaderboard Name:</label>\n              <input\n                type=\"text\"\n                value={createName}\n                onChange={(e) => setCreateName(e.target.value)}\n                placeholder=\"My Leaderboard\"\n                required\n              />\n              <button type=\"submit\">Create Leaderboard</button>\n            </form>\n          </div>\n        )}\n      </div>\n      {modalLeaderboard && (\n        <LeaderboardDetailModal \n          leaderboard={modalLeaderboard} \n          onClose={() => setModalLeaderboard(null)}\n          currentUser={user}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}